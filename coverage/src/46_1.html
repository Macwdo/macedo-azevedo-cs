<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>/home/macwdo/Work/MacedoAzevedo/Macedo-azevedo-cs/Ma.API/Repository/BaseRepository.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using Ma.API.Data;
using Ma.API.Exceptions;
using Microsoft.EntityFrameworkCore;

namespace Ma.API.Repository;

public class BaseRepository&lt;TEntity&gt; : IRepository&lt;TEntity&gt; where TEntity : class
{

    private readonly ApplicationContext _context;
    public BaseRepository(ApplicationContext context)
    {
        _context = context;
    }

    public void Save(TEntity entity)
    {
        _context.SaveChanges();
    }

    public IQueryable GetQueryable()
    {
        return _context.Set&lt;TEntity&gt;().AsQueryable();
    }

    public TEntity Create(TEntity entity)
    {
        _context.Set&lt;TEntity&gt;().Add(entity);
        _context.SaveChanges();
        return entity;

    }

    public IEnumerable&lt;TEntity&gt; Get()
    {
        return _context.Set&lt;TEntity&gt;().ToList();
    }

    public IEnumerable&lt;TEntity&gt; GetAllReadOnly()
    {
        return _context.Set&lt;TEntity&gt;().AsNoTracking().ToList();
    }

    public IEnumerable&lt;TEntity&gt; GetAllReadOnlyPaginated(int skip, int take)
    {
        skip = skip == 0 ? 1 : skip;
        return _context.Set&lt;TEntity&gt;().AsNoTracking().Skip((skip - 1) * take).Take(take).ToList();
    }
    public TEntity? Get(int id)
    {
        return _context.Set&lt;TEntity&gt;().Find(id);
    }

    public TEntity Update(TEntity entity)
    {
        _context.Set&lt;TEntity&gt;().Update(entity);
        _context.SaveChanges();
        return entity;
    }

    public void Delete(TEntity entity)
    {
            _context.Set&lt;TEntity&gt;().Remove(entity);
            _context.SaveChanges();
    }

    public Task&lt;TEntity&gt; CreateAsync(TEntity entity)
    {
        throw new NotImplementedException();
    }

    public Task&lt;IEnumerable&lt;TEntity&gt;&gt; GetAsync()
    {
        throw new NotImplementedException();
    }

    public Task&lt;TEntity&gt; GetAsync(int id)
    {
        throw new NotImplementedException();
    }

    public Task&lt;TEntity&gt; UpdateAsync(TEntity entity)
    {
        throw new NotImplementedException();
    }

    public Task DeleteAsync(int id)
    {
        throw new NotImplementedException();
    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[11,5,11,54,0],[12,5,12,6,0],[13,9,13,28,0],[14,5,14,6,0],[17,5,17,6,0],[18,9,18,32,0],[19,5,19,6,0],[22,5,22,6,0],[23,9,23,54,0],[24,5,24,6,0],[27,5,27,6,0],[28,9,28,45,0],[29,9,29,32,0],[30,9,30,23,0],[32,5,32,6,0],[35,5,35,6,0],[36,9,36,49,0],[37,5,37,6,0],[40,5,40,6,0],[41,9,41,64,0],[42,5,42,6,0],[45,5,45,6,0],[46,9,46,37,0],[47,9,47,99,0],[48,5,48,6,0],[50,5,50,6,0],[51,9,51,49,0],[52,5,52,6,0],[55,5,55,6,0],[56,9,56,48,0],[57,9,57,32,0],[58,9,58,23,0],[59,5,59,6,0],[62,5,62,6,0],[63,13,63,52,0],[64,13,64,36,0],[65,5,65,6,0],[68,5,68,6,0],[69,9,69,45,0],[73,5,73,6,0],[74,9,74,45,0],[78,5,78,6,0],[79,9,79,45,0],[83,5,83,6,0],[84,9,84,45,0],[88,5,88,6,0],[89,9,89,45,0]]);
    </script>
  </body>
</html>